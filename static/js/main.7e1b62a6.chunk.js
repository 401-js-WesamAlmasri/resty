(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{24:function(e,t,s){},27:function(e,t,s){},41:function(e,t){},47:function(e,t,s){},48:function(e,t,s){},52:function(e,t,s){},53:function(e,t,s){},54:function(e,t,s){"use strict";s.r(t);var n=s(1),r=s.n(n),a=s(17),o=s.n(a),l=s(18),c=s(4),d=s(5),i=s(2),u=s(7),h=s(6),p=(s(24),s(0)),j=function(){return Object(p.jsx)("header",{className:"header",children:"RESTy"})},b=s(13),m=s.n(b),O=s(19),y=s(8),x=(s(27),s(28)),v=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).onChangeHandler=n.onChangeHandler.bind(Object(i.a)(n)),n.onSubmitHandler=n.onSubmitHandler.bind(Object(i.a)(n)),n}return Object(d.a)(s,[{key:"onChangeHandler",value:function(e){this.props.updateFormHandler(Object(y.a)({},e.target.name,e.target.value))}},{key:"onSubmitHandler",value:function(){var e=Object(O.a)(m.a.mark((function e(t){var s,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.props.updateResultsHandler(null,null,null,null,!0),e.prev=2,e.next=5,x[this.props.method](this.props.url).set("Content-Type","application/json").accept("application/json").send(this.props.body);case 5:s=e.sent,this.props.updateResultsHandler(s.body.count||s.body.length,s.headers,s.body,null,!1),n={url:this.props.url,method:this.props.method,body:this.props.body},(r=JSON.parse(localStorage.getItem("requests")))?r.filter((function(e){return e.url===n.url&&e.method===n.method&&e.body===n.body})).length<1&&(r.push(n),this.props.updateHistoryHandler(r),localStorage.setItem("requests",JSON.stringify(r))):(localStorage.setItem("requests",JSON.stringify([n])),this.props.updateHistoryHandler([n])),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),this.props.updateResultsHandler(null,null,null,e.t0.message,!1);case 15:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{onSubmit:this.onSubmitHandler,className:"form",children:[Object(p.jsxs)("div",{className:"url_container",children:[Object(p.jsx)("label",{htmlFor:"url",children:Object(p.jsx)("input",{onChange:this.onChangeHandler,type:"url",value:this.props.url,name:"url",id:"url"})}),Object(p.jsx)("button",{type:"submit",children:"GO!"})]}),Object(p.jsxs)("div",{className:"methods_container",children:[Object(p.jsxs)("div",{onChange:this.onChangeHandler,children:[Object(p.jsxs)("label",{htmlFor:"get-method",className:"".concat("get"===this.props.method?"active":""),children:["GET",Object(p.jsx)("input",{defaultChecked:!0,type:"radio",value:"get",name:"method",id:"get-method"})]}),Object(p.jsxs)("label",{htmlFor:"post-method",className:"".concat("post"===this.props.method?"active":""),children:["POST",Object(p.jsx)("input",{type:"radio",value:"post",name:"method",id:"post-method"})]}),Object(p.jsxs)("label",{htmlFor:"put-method",className:"".concat("put"===this.props.method?"active":""),children:["PUT",Object(p.jsx)("input",{type:"radio",value:"put",name:"method",id:"put-method"})]}),Object(p.jsxs)("label",{htmlFor:"delete-method",className:"".concat("delete"===this.props.method?"active":""),children:["DELETE",Object(p.jsx)("input",{type:"radio",value:"delete",name:"method",id:"delete-method"})]})]}),Object(p.jsx)("textarea",{className:"req-body",placeholder:"Request body",name:"body",id:"body",cols:"30",rows:"10",value:this.props.body,onChange:this.onChangeHandler})]})]})})}}]),s}(r.a.Component),H=(s(47),function(){return Object(p.jsx)("footer",{className:"footer",children:"\xa9 2021 Code Fellows"})}),f=(s(48),s(14)),g=s.n(f),N=(s(52),s(3));var C=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"results_container",children:Object(p.jsxs)(N.b,{condition:e.loading,children:[Object(p.jsx)(N.c,{children:Object(p.jsx)("div",{className:"loading"})}),Object(p.jsx)(N.a,{children:Object(p.jsxs)(N.b,{condition:null!==e.results,children:[Object(p.jsxs)(N.c,{children:[Object(p.jsx)("h2",{children:"Headers"}),Object(p.jsx)(g.a,{id:"json-pretty",data:{headers:e.headers}}),Object(p.jsx)("h2",{children:"Count"}),Object(p.jsx)("span",{children:e.count}),Object(p.jsx)("h2",{children:"Results"}),Object(p.jsx)(g.a,{id:"json-pretty",data:{results:e.results}})]}),Object(p.jsx)(N.a,{children:Object(p.jsx)("div",{className:"error",children:e.error})})]})})]})})})},k=(s(53),function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).onClickHandler=n.onClickHandler.bind(Object(i.a)(n)),n}return Object(d.a)(s,[{key:"onClickHandler",value:function(e){this.props.updateFormHandler({url:e.url,method:e.method,body:e.body})}},{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"history_container",children:this.props.history.map((function(t,s){return Object(p.jsxs)("div",{className:"history_row",children:[Object(p.jsx)("span",{className:"method ".concat(t.method),onClick:function(){return e.onClickHandler(t)},children:t.method}),Object(p.jsx)("span",{className:"urls",children:t.url})]},s)}))})}}]),s}(r.a.Component)),S=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).state={count:null,headers:null,results:null,error:null,loading:!1,history:[],url:"https://swapi.dev/api/people/",method:"get",body:""},n.updateResultsHandler=n.updateResultsHandler.bind(Object(i.a)(n)),n.updateHistoryHandler=n.updateHistoryHandler.bind(Object(i.a)(n)),n.updateFormHandler=n.updateFormHandler.bind(Object(i.a)(n)),n}return Object(d.a)(s,[{key:"updateResultsHandler",value:function(e,t,s,n,r){this.setState({count:e,headers:t,results:s,error:n,loading:r})}},{key:"updateHistoryHandler",value:function(e){this.setState({history:e})}},{key:"updateFormHandler",value:function(e){this.setState(Object(l.a)({},e))}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("requests"));this.setState({history:e})}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)(j,{}),Object(p.jsx)(v,{url:this.state.url,method:this.state.method,body:this.state.body,updateFormHandler:this.updateFormHandler,updateResultsHandler:this.updateResultsHandler,updateHistoryHandler:this.updateHistoryHandler}),Object(p.jsxs)("div",{className:"results_body",children:[Object(p.jsx)(k,{history:this.state.history,updateFormHandler:this.updateFormHandler}),Object(p.jsx)(C,{count:this.state.count,headers:this.state.headers,results:this.state.results,error:this.state.error,loading:this.state.loading})]}),Object(p.jsx)(H,{})]})}}]),s}(r.a.Component);o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.7e1b62a6.chunk.js.map